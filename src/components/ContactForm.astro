---
// Using Web3Forms for form submission - free, no backend needed
---

<div class="max-w-2xl mx-auto">
  <form
    action="https://api.web3forms.com/submit"
    method="POST"
    class="space-y-6"
    id="contact-form"
  >
    <!-- Web3Forms Access Key - You'll need to get one at https://web3forms.com -->
    <input type="hidden" name="access_key" value="YOUR_ACCESS_KEY_HERE" />
    <input type="hidden" name="subject" value="New inquiry from allden.dev" />
    <input type="hidden" name="from_name" value="AlldÃ©n.dev Contact Form" />
    
    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <label for="name" class="block text-sm font-medium text-nordic-fog mb-2">
          Name *
        </label>
        <input
          type="text"
          id="name"
          name="name"
          required
          class="w-full px-4 py-3 bg-nordic-deep/50 border border-nordic-fog/20 rounded-lg focus:ring-2 focus:ring-aurora-blue focus:border-transparent transition-all text-nordic-mist placeholder-nordic-fog/40"
          placeholder="Your name"
        />
      </div>
      
      <div>
        <label for="email" class="block text-sm font-medium text-nordic-fog mb-2">
          Email *
        </label>
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full px-4 py-3 bg-nordic-deep/50 border border-nordic-fog/20 rounded-lg focus:ring-2 focus:ring-aurora-blue focus:border-transparent transition-all text-nordic-mist placeholder-nordic-fog/40"
          placeholder="your@email.com"
        />
      </div>
    </div>
    
    <div>
      <label for="inquiry_type" class="block text-sm font-medium text-nordic-fog mb-2">
        Inquiry Type *
      </label>
      <select
        id="inquiry_type"
        name="inquiry_type"
        required
        class="w-full px-4 py-3 bg-nordic-deep/50 border border-nordic-fog/20 rounded-lg focus:ring-2 focus:ring-aurora-blue focus:border-transparent transition-all text-nordic-mist"
      >
        <option value="">Select an option</option>
        <option value="speaking">Speaking Engagement</option>
        <option value="consulting">Technical Consulting</option>
        <option value="collaboration">Collaboration</option>
        <option value="other">General Inquiry</option>
      </select>
    </div>
    
    <div>
      <label for="message" class="block text-sm font-medium text-nordic-fog mb-2">
        Message *
      </label>
      <textarea
        id="message"
        name="message"
        required
        rows="6"
        class="w-full px-4 py-3 bg-nordic-deep/50 border border-nordic-fog/20 rounded-lg focus:ring-2 focus:ring-aurora-blue focus:border-transparent transition-all resize-none text-nordic-mist placeholder-nordic-fog/40"
        placeholder="Tell me about your project or inquiry..."
      ></textarea>
    </div>
    
    <div class="text-center">
      <p class="text-sm text-nordic-fog/70 mb-4">
        Or reach me directly at 
        <a href="mailto:tobias@allden.dev" class="font-medium text-aurora-blue hover:text-aurora-green transition-colors">
          tobias@allden.dev
        </a>
      </p>
      <button
        type="submit"
        class="inline-flex items-center justify-center px-8 py-4 bg-aurora-blue/20 border border-aurora-blue/50 text-nordic-mist hover:bg-aurora-blue/30 hover:border-aurora-blue transition-all duration-200 rounded font-medium disabled:opacity-50 disabled:cursor-not-allowed"
      >
        Send Message
      </button>
      <p class="text-xs text-nordic-fog/50 mt-4">
        I typically respond within 24-48 hours.
      </p>
    </div>
  </form>
  
  <div id="form-success" class="hidden mt-6 p-4 bg-aurora-green/10 border border-aurora-green/30 rounded-lg text-aurora-green text-center">
    Thank you for reaching out! I'll get back to you soon.
  </div>
  
  <div id="form-error" class="hidden mt-6 p-4 bg-aurora-pink/10 border border-aurora-pink/30 rounded-lg text-aurora-pink text-center">
    Oops! Something went wrong. Please try again or email me directly.
  </div>
</div>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const successMsg = document.getElementById('form-success');
  const errorMsg = document.getElementById('form-error');
  
  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const submitBtn = form.querySelector('button[type="submit"]') as HTMLButtonElement;
    const originalText = submitBtn.textContent;
    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending...';
    
    try {
      const formData = new FormData(form);
      const response = await fetch(form.action, {
        method: 'POST',
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      });
      
      if (response.ok) {
        form.reset();
        successMsg?.classList.remove('hidden');
        errorMsg?.classList.add('hidden');
        setTimeout(() => {
          successMsg?.classList.add('hidden');
        }, 5000);
      } else {
        throw new Error('Form submission failed');
      }
    } catch (error) {
      errorMsg?.classList.remove('hidden');
      successMsg?.classList.add('hidden');
    } finally {
      submitBtn.disabled = false;
      submitBtn.textContent = originalText || 'Send Message';
    }
  });
</script>

